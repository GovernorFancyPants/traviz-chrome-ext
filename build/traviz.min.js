function traviz(a,b){function c(a){a=Array.prototype.slice.call(a),a.forEach(function(a){var b=a.children,f=document.defaultView.getComputedStyle(a,null).getPropertyValue(j);switch(k[0]){case"!":f==k.slice(1)||a==l||d(l,a)||e(a,f,j);break;case">":parseInt(f.replace(/[^\d.]/g,""))>parseInt(k.replace(/[^\d.]/g,""))&&a!=l&&!d(l,a)&&e(a,f,j);break;case"<":parseInt(f.replace(/[^\d.]/g,""))<parseInt(k.replace(/[^\d.]/g,""))&&a!=l&&!d(l,a)&&e(a,f,j);break;default:f!=k||a==l||d(l,a)||e(a,f,j)}0!=b.length?c(b):(count=l.getElementsByClassName("item").length,q.textContent="Found "+String(count)+" elements with "+j+" "+k)})}function d(a,b){for(var c=b.parentNode;null!=c;){if(c==a)return!0;c=c.parentNode}return!1}function e(a,b,c){var d="#"+Math.floor(16777215*Math.random()).toString(16);i(document.getElementsByTagName("html")[0].children),a.style.backgroundColor=d;var e=document.createElement("div");e.style.cssText="background-color: #fff; margin: 1em; margin-top: 0; padding: 1em; border-right: 14px solid transparent; border-radius: 2px;",e.style.borderRightColor=d,e.classList.add("item");var f="margin: 0; margin-bottom: .5em; padding: 0;",g=document.createElement("p");g.textContent="Tag: "+a.tagName,g.style.cssText=f;var h=document.createElement("p");h.textContent="Id: "+a.getAttribute("id"),h.style.cssText=f;var j=document.createElement("p");j.textContent="Class: "+a.getAttribute("class"),j.style.cssText=f;var k=document.createElement("p");k.textContent=c+": "+b,k.style.cssText=f,e.appendChild(g),e.appendChild(h),e.appendChild(j),e.appendChild(k),l.appendChild(e),e.addEventListener("mouseover",function(){var b="box-shadow: #e74c3c 0 0 15px 5px, #e74c3c 0 0 15px 5px inset!important";a.style.cssText+=b},!0),e.addEventListener("mouseout",function(){a.style.boxShadow=""},!0),e.addEventListener("click",function(b){b.stopPropagation(),a.scrollIntoView()},!0)}function f(a){a.stopPropagation(),m.classList.contains("closed")?(l.style.marginLeft="0",m.classList.remove("closed"),o.style.cssText+="border-right: 10px solid #f3f3f3; border-left: none;"):(l.style.marginLeft="-320px",m.classList.add("closed"),o.style.cssText+="border-right: none; border-left: 10px solid #f3f3f3;")}function g(){h(document.getElementsByTagName("html")[0].children);for(var a=document.getElementById("traviz-overlay");a.firstChild;)a.removeChild(a.firstChild);document.getElementById("traviz-overlay").parentNode.removeChild(document.getElementById("traviz-overlay"))}function h(a){a=Array.prototype.slice.call(a),a.forEach(function(a){var b=a.children;a.style.backgroundColor=a.getAttribute("data-old-traviz-color")||"",0!=b.length&&h(b)})}function i(a){a=Array.prototype.slice.call(a),a.forEach(function(a){var b=a.children;oldBgColor=document.defaultView.getComputedStyle(a,null).getPropertyValue("background-color"),a.getAttribute("data-traviz-old-color")||a.setAttribute("data-traviz-old-color",oldBgColor),0!=b.length&&i(b)})}var j=a||"z-index",k=b||"!auto";document.getElementById("traviz-overlay")&&g();var l=document.createElement("div");l.style.cssText="font-family: helvetica, arial; position: fixed; height: 100%; width: 350px; overflow: scroll; background-color: #f3f3f3; z-index: 999999999999999; padding: 0; top: 0; left: 0; text-align: left; color: #444; box-shadow: 1px 0 10px 2px rgba(0,0,0,0.3); line-height: 1.4; font-size: 16px; box-sizing: border-box;",l.setAttribute("id","traviz-overlay");var m=document.createElement("div");m.style.cssText="background-color: #fff; padding: 1em; padding-left: 65px; width: auto; display: block; position: relative;";var n=document.createElement("a");n.style.cssText="background-color: #fff; position: relative; color: #4183c4; text-decoration: none",n.textContent="Close",n.setAttribute("href","javascript:;");var o=document.createElement("span");o.style.cssText="position: absolute; top: 1em; right: 10px; border-top: 10px solid transparent; border-bottom: 10px solid transparent; border-right: 10px solid #f3f3f3;";var p=document.createElement("span");p.style.cssText="position: absolute; left: 1em; top: 10px; display: inline-block; width: 32px; height: 32px; background: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE3LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMSBUaW55Ly9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLXRpbnkuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIGJhc2VQcm9maWxlPSJ0aW55IiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIKCSB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjNDU0NTQ1IiBkPSJNMTA4LjMsMTkuN2MtMTUuNi0xNS42LTQwLjktMTUuNi01Ni42LDBjLTE1LjYsMTUuNi0xNS42LDQwLjksMCw1Ni42czQwLjksMTUuNiw1Ni42LDAKCUMxMjMuOSw2MC43LDEyMy45LDM1LjMsMTA4LjMsMTkuN3ogTTU3LjQsNzAuNmMtMTIuNS0xMi41LTEyLjUtMzIuOCwwLTQ1LjNjMTIuNS0xMi41LDMyLjgtMTIuNSw0NS4zLDBzMTIuNSwzMi44LDAsNDUuMwoJQzkwLjEsODMuMSw2OS45LDgzLjEsNTcuNCw3MC42eiIvPgo8cGF0aCBmaWxsPSIjNDU0NTQ1IiBkPSJNMTcuOCwxMjEuNUw2LjUsMTEwLjJsMzAuMy0zMC4zYzAuNS0wLjUsMS4yLTEsMi0xLjJsNi4yLTIuMWMwLjctMC4yLDEuNC0wLjcsMi0xLjJsNC44LTQuOGw1LjcsNS43CglsLTQuOCw0LjhjLTAuNSwwLjUtMSwxLjItMS4yLDJsLTIuMSw2LjJjLTAuMiwwLjctMC43LDEuNC0xLjIsMkwxNy44LDEyMS41eiIvPgo8cGF0aCBmaWxsPSIjNDU0NTQ1IiBkPSJNODAsMjBjLTE1LjUsMC0yOCwxMi41LTI4LDI4YzAsMTUuNSwxMi41LDI4LDI4LDI4czI4LTEyLjUsMjgtMjhDMTA4LDMyLjUsOTUuNSwyMCw4MCwyMHogTTgwLDcyCgljLTEzLjMsMC0yNC0xMC43LTI0LTI0czEwLjctMjQsMjQtMjRzMjQsMTAuNywyNCwyNFM5My4zLDcyLDgwLDcyeiIvPgo8cGF0aCBmaWxsPSIjNDU0NTQ1IiBkPSJNODAsMjhjLTExLDAtMjAsOS0yMCwyMGMwLDExLDksMjAsMjAsMjBzMjAtOSwyMC0yMEMxMDAsMzcsOTEsMjgsODAsMjh6IE04MCw2MGMtNi42LDAtMTItNS40LTEyLTEyCgljMC02LjYsNS40LTEyLDEyLTEyczEyLDUuNCwxMiwxMkM5Miw1NC42LDg2LjYsNjAsODAsNjB6Ii8+CjxjaXJjbGUgZmlsbD0iIzQ1NDU0NSIgY3g9IjgwIiBjeT0iNDgiIHI9IjgiLz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+);";var q=document.createElement("span");q.style.cssText="background-color: #eaeaea; padding: 1em; width: auto; display: block; position: relative;margin-bottom: 1em;",l.addEventListener("click",f,!1),m.addEventListener("click",f,!1),n.addEventListener("click",g,!1),m.appendChild(p),m.appendChild(n),m.appendChild(o),l.appendChild(m),l.appendChild(q),document.body.appendChild(l),c(document.getElementsByTagName("html")[0].children)}chrome.runtime.onMessage.addListener(function(a){traviz(a.property,a.value)});